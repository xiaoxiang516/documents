<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		3.写一个函数对传入的字符串输出所有子字符串组合
		例如输入substrings('dog'); 返回['d', 'do', 'dog', 'o', 'og', 'g']//没有dg
		<!-- <script type="text/javascript">
			function substrings(str) {
				var sonstr = [],
					index = 0,
					i = 0;
					sonstr[0]=str.slice(index,index+1);
				while (true) {
					sonstr[i+1] =sonstr[i]+ str.slice(i+1, i +2);
					i++;
					// index++;
					if (i == str.length-1) break;
				}
				return sonstr;
			}

			var all_str = substrings('dog');
			console.log(all_str);
		</script> -->
		/* 不能缺少注释,进动物园碰见老虎 */
		
		<script type="text/javascript">
			function substrings(str) {
				/* 问题1:去重 */
				/* 问题2:如果传入的不是字符串 */
				if(str.constructor!=String){
					str=str.toString();
				}
				var sonstr = [],
					newarr = [],
					first = 0,
					m = 0;

				for (var first = 0; first < str.length; first++) {
					var len = 1;//每次从位置first开始截取的长度从1开始变化(此处是增加)
					for (var index = 0; index < str.length - first; index++) {//从位置0开始
						var newstr = str.substr(first, len);//得到一个从位置first截取len长度的字符串存入变量newstr
						sonstr.unshift(newstr);//添加一个每次单独从位置first开始截取到的字符串到数组sonstr
						if (len <= str.length - first) {//判断
							len++;
						}
					}
				}
				for (var i = sonstr.length - 1; i >= 0; i--) {//反方向存入新数组,得到结果
					newarr[m] = sonstr[i];
					m++;
				}
				return newarr;
			}
			var result = substrings("doog");
			console.log(result);
		</script>
	</body>
</html>

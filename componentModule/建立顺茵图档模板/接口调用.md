<el-table :data="tableData">
	<el-table-column label="" prop=""></el-table-column>
	<el-table-column label="" prop="">
		<template slot-scope="scope">
			{{ scope.row }}
		</template>
	</el-table-column>
</el-table>

<script type="text/javascript">
	await this.$promisePut('/api/plat/categories', subData);
	this.fetchCategoryData();

 async fetchTemplateItems() {
      try {
        const res = await this.$promiseGet(`/api/pdm/examineTemplates/${this.templateId}/items`);
        this.templateItems = res.Data;
        return this.templateItems;
      } catch (error) {
        if (error.message) {
          this.$message.error(error.message);
        }
      }
    },
	/**
	 * 获取目录结构数据
	 */
	fetchCategoryData: asyncFunctionErrorCatcher(async function f() {
			const res = await this.$promiseGet(`/api/plat/categories/${this.projectId}/categoryTree/withRoot`, {
				sysCategoryId: 'ProjectDocs',
				moduleId: 2,
			});
			this.category = res.Data;
			return res.Data;//有return
		}),

		/**
		 * $promiseGet
		 */
		async fetchTemplateList() {
				try {
					const res = await this.$promiseGet('/api/pdm/examineTemplates/brief');
					this.templateList = res.Data;
					return this.templateList;//有return
				} catch (error) {
					if (error.message) {
						this.$message.error(error.message);
					}
				}
			},
			/**
			 * $promisePost
			 */
			handleNewFolderDialogOk: asyncFunctionErrorCatcher(async function f() {
				const res = await this.$promisePost(`/api/plat/categories?businessId=${this.projectId}`, subData)
					.catch(err => {
						this.$message.error(err.Message)
						return
					});
			}),


			/**
			 * $promiseDelete
			 */
			async handleDeleteQuestion(questionId) {
				try {
					await this.$confirm('确认删除此条问题记录？', '提示');
					const res = await this.$promiseDelete(`/api/pdm/reviewTasks/reviews/questions/${questionId}`);
					this.$message.success(res.Message);
					//
					this.fetchQuestions();
					return true;
				} catch (error) {
					if (error.message) {
						this.$message.error(error.message);
					}
				}
			},
</script>
